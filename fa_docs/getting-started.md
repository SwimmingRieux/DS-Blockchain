# شروع کار: مقدمه‌ای عملی

این راهنما مقدمه‌ای عملی بر مفاهیم اصلی بلاکچینی که خواهید ساخت، ارائه می‌دهد. با دنبال کردن این مراحل، گردش کار اساسی ایجاد یک جفت کلید، ساخت یک تراکنش و استخراج یک بلاک را خواهید آموخت.

این را به عنوان "آزمایشگاه ۰" در نظر بگیرید – یک تمرین عملی که باید قبل از شروع کار بر روی نقاط عطف اصلی تکلیف انجام دهید.

## وظیفه ۱: تولید یک جفت کلید

اولین قدم شما ایجاد یک جفت کلید عمومی/خصوصی است. این هویت شما در بلاکچین خواهد بود.

- **عمل:** دستور `GiveKeyPair` را اجرا کنید.

  ```bash
  $ ./your-node-program GiveKeyPair
  ```

- **نقطه بازرسی:** این دستور یک جفت کلید جدید را خروجی می‌دهد. این اطلاعات را ذخیره کنید، زیرا برای مراحل بعدی به آن نیاز خواهید داشت. `publicKey` "آدرس" شماست که می‌توانید با دیگران به اشتراک بگذارید، در حالی که `privateKey` باید محرمانه نگه داشته شود.

## وظیفه ۲: درک UTXOها

قبل از اینکه بتوانید یک تراکنش ایجاد کنید، باید مدل UTXO را درک کنید.

- **عمل:** مستندات [مدل UTXO](concepts/utxo.md) را بخوانید.
- **نقطه بازرسی:** یک نمودار از یک UTXO که مالک آن هستید، ترسیم کنید. این نمودار باید شامل `txid` و `index` (که می‌توانید فعلاً خودتان بسازید)، `value` و `publicKey` شما از وظیفه ۱ باشد.

## وظیفه ۳: ساخت یک تراکنش نمونه

حالا، بیایید یک تراکنش ایجاد کنیم. برای این تمرین، می‌توانید یک UTXO که مالک آن هستید را اختراع کنید.

- **عمل:** یک فایل JSON ایجاد کنید که یک تراکنش با یک ورودی و دو خروجی (یکی برای پرداخت و دیگری برای باقیمانده‌ای که به شما بازمی‌گردد) را نشان می‌دهد. برای فرمت صحیح به [مشخصات فرمت‌های JSON](spec/json-formats.md) مراجعه کنید.
- **نقطه بازرسی:** `txid` تراکنش خود را با سریال‌سازی داده‌های تراکنش و هش کردن آن با SHA-256 به صورت دستی محاسبه کنید.

## وظیفه ۴: امضای تراکنش

یک تراکنش تا زمانی که امضا نشود، معتبر نیست. امضا ثابت می‌کند که شما مالک وجوهی هستید که خرج می‌شوند.

- **عمل:** پیش‌تصویر تراکنش (داده‌هایی که باید امضا شوند) را ایجاد کرده و آن را با کلید خصوصی خود امضا کنید. `signature` حاصل را به ورودی در JSON تراکنش خود اضافه کنید.
- **نقطه بازرسی:** برای درک اهمیت امضا، سعی کنید تراکنش خود را دستکاری کنید. به عنوان مثال، `value` یکی از خروجی‌ها را به اندازه یک سکه تغییر دهید. باید مشاهده کنید که اگر بخواهید امضا را در برابر این تراکنش تغییر یافته دوباره تأیید کنید، تأیید ناموفق خواهد بود.

## وظیفه ۵: افزودن تراکنش به ممپول

هنگامی که یک تراکنش ایجاد و امضا شد، به شبکه پخش شده و به ممپول اضافه می‌شود.

- **عمل:** از دستور `AddTransactionToMempool` برای افزودن تراکنش خود به ممپول استفاده کنید.

  ```bash
  $ ./your-node-program AddTransactionToMempool <path-to-your-tx.json>
  ```

- **نقطه بازرسی:** این دستور باید وضعیت فعلی ممپول را که بر اساس نرخ کارمزد اجدادی مرتب شده است، چاپ کند. برای درک بیشتر، یک تراکنش دوم ایجاد کنید که خروجی باقیمانده از تراکنش اول شما را خرج می‌کند. این تراکنش "فرزند" را به ممپول اضافه کنید و مشاهده کنید که چگونه DAG (نمودار جهت‌دار غیرمدور) وابستگی‌ها نمایش داده می‌شود.

## وظیفه ۶: استخراج یک بلاک

حالا زمان آن رسیده است که یک بلاک استخراج کرده و تراکنش خود را در آن بگنجانید.

- **عمل:** ابتدا، سختی استخراج را تنظیم کنید. سپس، دستور `MineBlock` را اجرا کنید.

  ```bash
  $ ./your-node-program SetDifficulty 12
  $ ./your-node-program MineBlock
  ```

  (نکته: هنگامی که اولین بلاک خود را استخراج می‌کنید، بلاک جنسیس را ایجاد می‌کنید. در این حالت، باید از یک رشته ۶۴ صفر برای `prevBlockHash` استفاده کنید.)

- **نقطه بازرسی:** این دستور بلاک تازه استخراج شده را در قالب JSON خروجی می‌دهد. بلاک را بررسی کرده و تأیید کنید که فیلدهای هدر صحیح هستند، `merkleRoot` معتبر است و `nonce` منجر به هشی می‌شود که الزامات سختی را برآورده می‌کند. همچنین، بررسی کنید که اندازه کل بلاک کمتر یا مساوی با حد ۲۰۰۰ بایت باشد.

## وظیفه ۷: اثبات گنجاندن

آخرین مرحله اثبات این است که تراکنش شما در بلاک گنجانده شده است.

- **عمل:** از دستورات `GetMerkleProof` و `VerifyTxInclusion` استفاده کنید.

  ```bash
  $ ./your-node-program GetMerkleProof <txid> <block-height>
  $ ./your-node-program VerifyTxInclusion <proof-file> <merkle-root>
  ```

- **نقطه بازرسی:** دستور `VerifyTxInclusion` باید برای تراکنش شما `true` و برای یک شناسه تراکنش تصادفی و غیرموجود `false` را برگرداند.

---
[← بازگشت: تست‌ها و ورودی/خروجی نمونه](tests.md) · [بعدی: پس‌زمینه →](concepts/background.md)